@model Test

<script type='text/javascript' src="..\assets\vendor\ckeditor5\build\ckeditor.js"></script>

<div class="form-block">
    <h2>Тест</h2>
    <form asp-action="SaveTest" method="post">

        <label asp-for="Name">Имя курса:</label>
        <input type="text" id="Name" name="Name" value="@Model.Name" required><br>

        <label asp-for="Duration">Продолжительность в неделях:</label>
        <input type="number" id="Duration" name="Duration" value="@Model.Duration" min=0 oninput="validity.valid||(value='')" required><br>

        <label asp-for="Cost">Баллы отведенные на тест:</label>
        <input type="number" id="Cost" name="Cost" value="@Model.Cost" min=0 max=10000 oninput="validity.valid||(value='')" required><br>

        <label asp-for="Exp">Опыт получаемый за окончание теста:</label>
            <input type="number" id="Exp" name="Exp" value="@Model.Exp" min=0 max=10000 oninput="validity.valid||(value='')" required><br>

        <label asp-for="AttemptsAlowed">Количество доступных попыток:</label>
        <input type="number" id="AttemptsAlowed" name="AttemptsAlowed" value="@Model.AttemptsAlowed" min=0 max=10000 oninput="validity.valid||(value='')" required><br>

        <head>
            <meta charset="utf-8">
            <title>CKEditor 5 - Classic editor</title>
        </head>
        <body>
            <h1></h1>
            <textarea asp-for="Description" name="Description" id="descEditor">
                @Model.Description
        </textarea>
            <script>
                ClassicEditor
                    .create(document.querySelector('#descEditor'))
                    .catch(error => {
                        console.error(error);
                    });
            </script>
        </body>

        <h1></h1>
        <p><input type="submit" value="Сохранить"></p>
    </form>
</div>

<div class="form-block">
    <div id="results">
        @Html.Partial("PartialTestQuestions", Model.Questions)
    </div>

    <form asp-action="AddQuestion" method="post"
          data-ajax="true"
          data-ajax-method="post"
          data-ajax-loading="#loading"
          data-ajax-mode="replace"
          data-ajax-update="#results">

        <button type="submit" class="btn btn-primary" id="btnContactUs">Добавить вопрос</button>
        <span id="loading" style="display:none;"> <i class="fas fa-spinner fa-spin"></i></span>
    </form>
</div>



@using (@Html.BeginForm("DeleteTest", "Course"))
{
    <input type="submit" name="DeleteTest" class="btn btn-primary" id="DeleteTest" value="Удалить тест" />
}
